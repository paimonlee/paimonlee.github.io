# 位运算实现加减乘除
## 加法

```
4 + 5
0000 0100 + 0000 0101

第一步，异或，如果不考虑进位，异或就可以直接出结果
0000 0100
0000 0101
--------------
0000 0001

第二步，与运算（判断进位，如果与运算位0，则没有进位）
0000 0100
0000 0101
--------------
0000 0100

第三步，将与运算的结果左移一位，0000 1000

第四步，异或 将第一步和第三步的结果进行异或运算
0000 0001
0000 1000
------------------
0000 1001

第五步，验算，将第一步和第三步的结果进行与运算，如果为0，
则第四步则为最终结果，如果不为0，则有进位，则与第四步结果异或
0000 0001
0000 1000
------------------
0000 0000
```

伪代码
```
def add(a, b):
    c = a ^ b
    d = a & b
    if d == 0:
        # 没有进位，直接返回结果
        return c
    else:
        d = d << 1
        add(c, d)
```

## 减法
4 - 5 = 4 + (-5)
0000 0100 + 1111 1011 (计算机中负数存储的是补码)
